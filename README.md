# enot_test

Проект реализован на чистом php 8, без фреймворков. База данных PostgreSQL. Для frontend'а используется bootstrap.  
Для запуска проекта в dev окружении создан docker-compose.yml.

Суть проекта:  
    Парсер курсов валют с ЦБ РФ (https://www.cbr.ru/currency_base/daily/), который будет сохранять в базу каждые 3 часа валюты с актуальными курсами.  
    Присутствует функционал регистрации и авторизации пользователей.  
    В личном кабинете пользователя сделан конвертер со всех спаршенных валют в рубли и наоборот.  

Для начала работы запускаем проект в докере.  
`docker compose up --build`  
  
При первом запуске необходимо инициализировать базу данных. Для этого:
  1. Заходим в контейнер с php `docker exec -it enot_php /bin/bash`
  2. Запускаем скрипт инициализации базы данных (создание таблиц) `php src/Script/init.php`  

Для парсинга валют с сайта ЦБ РФ существует скрипт. В проекте автоматический запуск скриптов не настроен (в продакшн среде необходимо настроить запуск по крону). Запустить скрипт в ручном режиме можно из контейнера php командой `php src/Script/parseCB.php`  

После того как таблица валют будет заполнена (путем запуска скрипта парсинга) в личном кабинете становится доступен функционал конвертации валют.